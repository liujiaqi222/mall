(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-02265c04"],{"4e82":function(t,a,s){var e=s("23e7"),i=s("e330"),l=s("59ed"),n=s("7b0b"),o=s("07fa"),c=s("083a"),r=s("577e"),d=s("d039"),u=s("addb"),m=s("a640"),f=s("3f7e"),v=s("99f4"),_=s("1212"),h=s("ea83"),p=[],b=i(p.sort),g=i(p.push),w=(s=d((function(){p.sort(void 0)})),i=d((function(){p.sort(null)})),m=m("sort"),!d((function(){if(_)return _<70;if(!(f&&3<f)){if(v)return!0;if(h)return h<603;for(var t,a,s,e="",i=65;i<76;i++){switch(t=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(s=0;s<47;s++)p.push({k:t+s,v:a})}for(p.sort((function(t,a){return a.v-t.v})),s=0;s<p.length;s++)t=p[s].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return"DGBEFHACIJK"!==e}})));e({target:"Array",proto:!0,forced:s||!i||!m||!w},{sort:function(t){void 0!==t&&l(t);var a=n(this);if(w)return void 0===t?b(a):b(a,t);for(var s,e,i=[],d=o(a),m=0;m<d;m++)m in a&&g(i,a[m]);for(u(i,(e=t,function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:r(t)>r(a)?1:-1})),s=o(i),m=0;m<s;)a[m]=i[m++];for(;m<d;)c(a,m++);return a}})},"6c3f":function(t,a,s){s("b293")},"78ed":function(t,a,s){},"7afb":function(t,a,s){s.r(a),s("4e82"),s("b0c0");var e=s("5530"),i=(s("d81d"),s("14d9"),s("a434"),s("e9f5"),s("ab43"),s("d3b7"),s("2f62")),l=s("47c5"),n={name:"live_detail",data:function(){return{option:{form:{labelWidth:"150px"}},FormData:{},loading:!1}},methods:{getData:function(t){var a=this;this.loading=!0,Object(l.d)(t).then((function(t){a.FormData=t.data,a.loading=!1})).catch((function(t){a.$message.error(t.msg),a.loading=!1}))}}},o=(s("6c3f"),s("2877")),c=(n=Object(o.a)(n,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"divBox"},[a("div",[a("div",{staticClass:"box-container"},[a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播间名称：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.name))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("主播微信号：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.anchor_wechat))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播间ID：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.id))]),a("span",{staticClass:"info"},[t._v("（微信直播间ID："+t._s(t.FormData.room_id)+"）")])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("主播昵称：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.anchor_name))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("手机号：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.phone))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播状态：")]),a("span",{staticClass:"info"},[t._v(t._s(t._f("liveReviewStatusFilter")(t.FormData.live_status)))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播开始时间：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.start_time))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播结束时间：")]),a("span",{staticClass:"info"},[t._v(t._s(t.FormData.end_time))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("直播间类型：")]),a("span",{staticClass:"info"},[t._v(t._s(t._f("broadcastType")(t.FormData.type)))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("显示类型：")]),a("span",{staticClass:"info"},[t._v(t._s(t._f("broadcastDisplayType")(t.FormData.screen_type)))])]),a("div",{staticClass:"list sp image"},[a("label",{staticClass:"name"},[t._v("背景图：")]),a("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.cover_img}})]),a("div",{staticClass:"list sp image"},[a("label",{staticClass:"name"},[t._v("分享图：")]),a("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.share_img}})]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("是否开启点赞：")]),a("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_like)))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("是否开启货架：")]),a("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_goods)))])]),a("div",{staticClass:"list sp"},[a("label",{staticClass:"name"},[t._v("是否开启评论：")]),a("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.close_comment)))])]),a("div",{staticClass:"list"},[a("label",{staticClass:"name"},[t._v("是否显示直播回放：")]),a("span",{staticClass:"info blue"},[t._v(t._s(t._f("filterClose")(t.FormData.replay_status)))])])])])])}),[],!1,null,"7f68792c",null).exports,s("99af"),s("c4ad")),r={name:"add_goods",components:{goodsList:c.default},props:{datas:{type:Object,default:function(){return{}}}},data:function(){return{modals:!1,goodsList:[]}},methods:{getProductId:function(t){var a=this;this.goodsList=this.goodsList.concat(t),this.$nextTick((function(t){setTimeout((function(){a.modals=!1}),300)}))},bindDelete:function(t){this.goodsList.splice(t,1)},bindSub:function(){var t=[];this.goodsList.map((function(a){t.push(a.product_id)})),this.$emit("getData",t)}}};s("f49e"),n={name:"live",components:{detailsFrom:n,addGoods:Object(o.a)(r,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"item"},[a("span",[t._v("直播间名称：")]),t._v("\n    "+t._s(t.datas.name)+"\n  ")]),a("div",{staticClass:"item"},[a("span",[t._v("直播间ID：")]),t._v("\n    "+t._s(t.datas.id)+"\n  ")]),a("div",{staticClass:"item box"},[t._l(t.goodsList,(function(s,e){return a("div",{key:e,staticClass:"box-item"},[a("img",{attrs:{src:s.image,alt:""}}),a("i",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:function(a){return t.bindDelete(e)}}})])})),a("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"upload-box",on:{click:function(a){t.modals=!0}}},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})])],2),a("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.bindSub}},[t._v("提交")]),a("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.modals,title:"商品列表",width:"1000px"},on:{"update:visible":function(a){t.modals=a}}},[t.modals?a("goods-list",{ref:"goodslist",attrs:{ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,"e9ad2a8a",null).exports,goodsList:c.default},data:function(){return{isShowBox:!1,modals:!1,total:0,grid:{xl:7,lg:7,md:12,sm:24,xs:24},formValidate:{status:"",kerword:"",page:1,limit:20},treeData:{withdrawal:[{title:"全部",value:""},{title:"直播中",value:1},{title:"未开始",value:2},{title:"已结束",value:3}]},columns1:[{key:"id",title:"直播间ID",minWidth:35},{key:"name",minWidth:35,title:"直播间名称"},{key:"anchor_name",minWidth:35,title:"主播昵称"},{key:"anchor_wechat",minWidth:35,title:"主播微信号"},{key:"start_time",minWidth:35,title:"直播开始时间"},{key:"end_time",minWidth:35,title:"计划结束时间"},{key:"add_time",minWidth:35,title:"创建时间"},{slot:"is_mer_show",title:"显示状态",minWidth:80},{slot:"status",minWidth:35,title:"直播状态"},{key:"sort",minWidth:35,title:"排序"},{slot:"action",fixed:"right",title:"操作",minWidth:120}],tabList:[],loading:!1,activeItem:{},selectIds:[]}},computed:Object(e.a)(Object(e.a)({},Object(i.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(l.j)(this.formValidate).then((function(a){t.total=a.data.count,t.tabList=a.data.list,t.loading=!1}))},selChange:function(){this.formValidate.page=1,this.getList()},menusAdd:function(){this.$router.push({path:this.$routeProStr+"/marketing/live/add_live_room"})},onchangeIsShow:function(t){var a=this,s=t.id;t=t.is_show;Object(l.l)(s,t).then((function(t){a.$message.success(t.msg)})).catch((function(t){a.$message.error(t.msg)}))},detail:function(t){this.modals=!0,this.$refs.studioDetail.getData(t.id)},addGoods:function(t){this.selectIds=t.product_ids,this.activeItem=t,this.isShowBox=!0},getData:function(t){var a=this;Object(l.k)({room_id:this.activeItem.id,goods_ids:t}).then((function(t){a.$message.success(t.msg),a.isShowBox=!1,a.$refs.liveAdd.goodsList=[]})).catch((function(t){a.$message.error(t.msg),a.isShowBox=!1,a.$refs.liveAdd.goodsList=[]}))},syncRoom:function(){var t=this;Object(l.n)().then((function(a){t.$message.success(a.msg),t.getList()})).catch((function(a){t.$message.error(a.msg)}))},del:function(t,a,s){var e=this;a={title:a,num:s,url:"live/room/del/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(a).then((function(t){e.$message.success(t.msg),e.tabList.splice(s,1),e.getList()})).catch((function(t){e.$message.error(t.msg)}))},getProductId:function(t){var a=[];t.map((function(t){a.push(t.product_id)})),this.getData(a)}}},s("de99"),r=Object(o.a)(n,(function(){var t=this,a=t._self._c;return a("div",[a("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[a("div",{staticClass:"padding-add"},[a("el-form",{ref:"formValidate",staticClass:"tabform",attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":"right",inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"直播状态："}},[a("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:t.selChange},model:{value:t.formValidate.status,callback:function(a){t.$set(t.formValidate,"status",a)},expression:"formValidate.status"}},t._l(t.treeData.withdrawal,(function(t,s){return a("el-option",{key:s,attrs:{value:t.value,label:t.title}})})),1)],1),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入直播间名称/ID/主播昵称/微信号"},model:{value:t.formValidate.kerword,callback:function(a){t.$set(t.formValidate,"kerword",a)},expression:"formValidate.kerword"}})],1),a("el-form-item",[a("el-button",{directives:[{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:t.selChange}},[t._v("查询")])],1)],1)],1)]),a("el-card",{staticClass:"ivu-mt mt16",attrs:{bordered:!1,shadow:"never"}},[a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:["setting-system_menus-add"],expression:"['setting-system_menus-add']"},{name:"db-click",rawName:"v-db-click"}],attrs:{type:"primary"},on:{click:function(a){return t.menusAdd("添加直播间")}}},[t._v("添加直播间")]),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:["setting-system_menus-add"],expression:"['setting-system_menus-add']"},{name:"db-click",rawName:"v-db-click"}],staticStyle:{"margin-left":"20px"},attrs:{type:"success"},on:{click:t.syncRoom}},[t._v("同步直播间")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"mt14",attrs:{data:t.tabList,"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},[a("el-table-column",{attrs:{label:"直播间ID",width:"80"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.id))])]}}])}),a("el-table-column",{attrs:{label:"直播间名称","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.name))])]}}])}),a("el-table-column",{attrs:{label:"主播昵称","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.anchor_name))])]}}])}),a("el-table-column",{attrs:{label:"主播微信号","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.anchor_wechat))])]}}])}),a("el-table-column",{attrs:{label:"直播开始时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.start_time))])]}}])}),a("el-table-column",{attrs:{label:"计划结束时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.end_time))])]}}])}),a("el-table-column",{attrs:{label:"创建时间","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(s.row.add_time))])]}}])}),a("el-table-column",{attrs:{label:"显示状态","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,value:s.row.is_show,size:"large","active-text":"开启","inactive-text":"关闭"},on:{change:function(a){return t.onchangeIsShow(s.row)}},model:{value:s.row.is_show,callback:function(a){t.$set(s.row,"is_show",a)},expression:"scope.row.is_show"}})]}}])}),a("el-table-column",{attrs:{label:"直播状态","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",[t._v(t._s(t._f("liveReviewStatusFilter")(s.row.live_status)))])]}}])}),a("el-table-column",{attrs:{label:"排序","min-width":"35"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",[t._v(t._s(s.row.sort))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(a){return t.detail(s.row,"详情")}}},[t._v("详情")]),a("el-divider",{attrs:{direction:"vertical"}}),a("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(a){return t.del(s.row,"删除这条信息",s.$index)}}},[t._v("删除")]),102==s.row.live_status?a("el-divider",{attrs:{direction:"vertical"}}):t._e(),102==s.row.live_status?a("a",{directives:[{name:"db-click",rawName:"v-db-click"}],on:{click:function(a){return t.addGoods(s.row)}}},[t._v("添加商品")]):t._e()]}}])})],1),a("div",{staticClass:"acea-row row-right page"},[t.total?a("pagination",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{"update:page":function(a){return t.$set(t.formValidate,"page",a)},"update:limit":function(a){return t.$set(t.formValidate,"limit",a)},pagination:t.getList}}):t._e()],1)],1),a("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.modals,title:"直播间详情",width:"720px"},on:{"update:visible":function(a){t.modals=a}}},[a("details-from",{ref:"studioDetail"})],1),a("el-dialog",{staticClass:"paymentFooter",attrs:{visible:t.isShowBox,title:"添加商品",width:"720px"},on:{"update:visible":function(a){t.isShowBox=a}}},[t.isShowBox?a("goods-list",{ref:"goodslist",attrs:{selectIds:t.selectIds,ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,"f8c88b26",null);a.default=r.exports},a306:function(t,a,s){},b293:function(t,a,s){},de99:function(t,a,s){s("a306")},f49e:function(t,a,s){s("78ed")}}]);